@import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@400;700&display=swap');

body { margin: 0; overflow: hidden; background-color: #111; color: white; font-family: 'Noto Sans KR', sans-serif; user-select: none; touch-action: none; }
canvas { display: block; }

/* 타이틀 화면 */
#title-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #1e1b4b, #312e81); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 300; }
.main-title { font-family: 'Black Han Sans', sans-serif; font-size: 80px; color: #fbbf24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.6); margin-bottom: 50px; text-align: center; }
.menu-btn { width: 250px; padding: 15px; margin: 10px; font-size: 24px; font-family: 'Black Han Sans', sans-serif; background: #4f46e5; border: none; color: white; border-radius: 10px; cursor: pointer; box-shadow: 0 5px 0 #3730a3; transition: transform 0.1s; }
.menu-btn:active { transform: translateY(5px); box-shadow: none; }
.menu-btn.secondary { background: #4b5563; box-shadow: 0 5px 0 #374151; }

/* 적 등장 알림 배너 (NEW) */
#wave-notice {
    position: absolute; top: 80px; left: 50%; transform: translateX(-50%) translateY(-100px);
    background: linear-gradient(90deg, rgba(220, 38, 38, 0.9), rgba(185, 28, 28, 0.9));
    color: #fff; padding: 10px 40px; border-radius: 30px;
    font-family: 'Black Han Sans', sans-serif; font-size: 28px;
    border: 3px solid #fca5a5;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.27);
    z-index: 50; pointer-events: none; opacity: 0;
}
#wave-notice.show { transform: translateX(-50%) translateY(0); opacity: 1; }

/* UI 레이어 */
#ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; padding: 20px; box-sizing: border-box; display: none; flex-direction: column; justify-content: space-between; }
.top-bar { display: flex; justify-content: space-between; align-items: center; font-family: 'Black Han Sans', sans-serif; text-shadow: 2px 2px 0 #000; pointer-events: auto; }
.save-btn { background: #059669; border: 2px solid #fff; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer; font-family: 'Noto Sans KR', sans-serif; font-weight: bold; font-size: 14px; }
.level-badge { font-size: 24px; color: #fbbf24; }
.timer { font-size: 32px; color: #fff; }
.kill-count { font-size: 24px; color: #f87171; }

#exp-container { position: absolute; top: 0; left: 0; width: 100%; height: 10px; background: #333; z-index: 5; display: none; }
#exp-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #4f46e5, #ec4899); transition: width 0.2s; }
#inventory { display: flex; gap: 8px; margin-bottom: auto; margin-top: 10px; }
.item-slot { width: 32px; height: 32px; background: rgba(0,0,0,0.6); border: 2px solid #555; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px; position: relative; }
.item-lvl { position: absolute; bottom: -4px; right: -4px; font-size: 10px; background: #000; padding: 1px 3px; border-radius: 3px; }

#joystick-zone { position: absolute; bottom: 50px; left: 50px; width: 120px; height: 120px; background: rgba(255, 255, 255, 0.1); border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.3); display: none; pointer-events: auto; touch-action: none; }
#joystick-knob { position: absolute; top: 50%; left: 50%; width: 50px; height: 50px; background: rgba(255, 255, 255, 0.5); border-radius: 50%; transform: translate(-50%, -50%); pointer-events: none; }
@media (hover: none) and (pointer: coarse) { #joystick-zone { display: block; } }

#levelup-modal { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); display: none; flex-direction: column; align-items: center; justify-content: center; pointer-events: auto; z-index: 100; }
.levelup-title { font-family: 'Black Han Sans', sans-serif; font-size: 40px; color: #fbbf24; margin-bottom: 20px; }
.cards-container { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; max-width: 800px; }
.card { width: 160px; background: linear-gradient(145deg, #1f2937, #111827); border: 2px solid #374151; border-radius: 12px; padding: 15px; cursor: pointer; text-align: center; color: #fff; }
.card:hover { border-color: #fbbf24; }

#result-screen { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 200; pointer-events: auto; }
.btn-restart { padding: 15px 40px; font-size: 20px; border-radius: 8px; border: none; background: #ec4899; color: white; font-weight: bold; cursor: pointer; margin-top: 20px; }